# Proxies 管理測試頁面使用指南

## 概述

本指南說明如何使用新開發的 Proxies 管理測試頁面，特別是 CSV 導入功能的使用方法。

## 功能特色

### 1. CSV 導入功能
- **支援格式**: UTF-8 編碼的 CSV 檔案
- **檔案大小限制**: 最大 10MB
- **資料驗證**: 自動驗證 IP 地址格式
- **批量處理**: 支援大量代理資料的批量導入
- **錯誤處理**: 詳細的錯誤報告和修正建議

### 2. 代理管理功能
- **即時監控**: 代理健康狀態即時更新
- **統計分析**: 總代理數、活躍代理、健康代理、平均回應時間
- **篩選搜尋**: 支援多條件篩選和關鍵字搜尋
- **批量操作**: 支援批量啟用、停用、刪除操作

## 使用步驟

### 步驟 1: 啟動應用程式

```bash
cd frontend
npm run dev
```

應用程式將在 `http://localhost:5174/` 啟動。

### 步驟 2: 導航到代理管理頁面

1. 開啟瀏覽器訪問 `http://localhost:5174/`
2. 在左側導航欄點擊「代理管理」
3. 進入代理管理主頁面

### 步驟 3: 使用 CSV 導入功能

#### 3.1 準備 CSV 檔案

確保您的 CSV 檔案符合以下格式：

```csv
ip_address,port,protocol,username,password,country,tags
192.168.1.1,8080,http,,,,
10.0.0.1,1080,socks5,user,pass,US,premium
```

**範例檔案**: 可使用提供的 `UTF-8onlyip11.csv` 檔案進行測試。

#### 3.2 執行導入

1. 點擊頁面右上角的「導入 CSV」按鈕
2. 在彈出的對話框中點擊「選擇檔案」
3. 選擇您的 CSV 檔案
4. 系統會自動解析並顯示預覽
5. 檢查資料無誤後，點擊「開始導入」

#### 3.3 監控導入進度

- 導入過程中會顯示進度條
- 系統會即時顯示成功和失敗的記錄數
- 如有錯誤，會在下方顯示詳細的錯誤訊息

### 步驟 4: 驗證導入結果

1. 導入完成後，檢查統計卡片中的「總代理數」
2. 在代理列表中確認新增的代理
3. 使用篩選功能查看特定的代理

## 測試案例

### 測試案例 1: 基本 CSV 導入

**目標**: 驗證基本的 CSV 導入功能

**步驟**:
1. 使用提供的 `UTF-8onlyip11.csv` 檔案
2. 執行導入操作
3. 驗證所有 IP 地址都已正確導入

**預期結果**: 300 個代理 IP 成功導入

### 測試案例 2: 錯誤處理

**目標**: 驗證錯誤處理機制

**步驟**:
1. 創建包含無效 IP 地址的 CSV 檔案
2. 執行導入操作
3. 檢查錯誤報告

**預期結果**: 系統顯示詳細的錯誤訊息和修正建議

### 測試案例 3: 大檔案處理

**目標**: 驗證大檔案的處理能力

**步驟**:
1. 使用包含 1000+ 記錄的 CSV 檔案
2. 執行導入操作
3. 監控記憶體使用和效能

**預期結果**: 系統穩定處理大檔案，無記憶體洩漏

## 技術規格

### 支援的 CSV 格式

| 欄位名稱 | 類型 | 必填 | 說明 |
|---------|------|------|------|
| ip_address | string | ✓ | IP 地址 (IPv4) |
| port | number | ✓ | 連接埠號 (1-65535) |
| protocol | string | ✓ | 協定類型 (http/https/socks4/socks5) |
| username | string | ✗ | 使用者名稱 |
| password | string | ✗ | 密碼 |
| country | string | ✗ | 國家代碼 (ISO 3166-1 alpha-2) |
| tags | string | ✗ | 標籤 (逗號分隔) |

### 驗證規則

- **IP 地址**: 必須是有效的 IPv4 格式
- **連接埠**: 必須在 1-65535 範圍內
- **協定**: 必須是支援的協定類型之一
- **國家代碼**: 如提供，必須是有效的 ISO 國家代碼

### 效能指標

- **檔案大小限制**: 10MB
- **記錄數限制**: 10,000 筆
- **導入速度**: 約 100 筆/秒
- **記憶體使用**: 檔案大小的 2-3 倍

## 故障排除

### 常見問題

#### Q: CSV 檔案無法上傳
**A**: 檢查檔案格式是否為 UTF-8 編碼，檔案大小是否超過 10MB。

#### Q: 部分 IP 地址導入失敗
**A**: 檢查錯誤報告，確認 IP 地址格式是否正確，連接埠是否在有效範圍內。

#### Q: 導入速度很慢
**A**: 大檔案導入需要時間，請耐心等待。如持續緩慢，檢查系統資源使用情況。

#### Q: 頁面無回應
**A**: 重新整理頁面，檢查開發服務器是否正常運行。

### 除錯資訊

如遇到問題，請檢查瀏覽器開發者工具的 Console 標籤，查看詳細的錯誤訊息。

## 後續開發

### 計劃功能

1. **Excel 檔案支援**: 支援 .xlsx 格式的檔案導入
2. **範本下載**: 提供標準的 CSV 範本下載
3. **導入歷史**: 記錄導入操作的歷史
4. **資料驗證增強**: 更嚴格的資料驗證規則
5. **批量編輯**: 支援批量編輯代理設定

### 效能優化

1. **分批處理**: 大檔案分批處理以提升效能
2. **背景處理**: 長時間操作移至背景執行
3. **快取機制**: 實作智慧快取以提升回應速度

---

**版本**: 1.0.0  
**更新日期**: 2025-01-27  
**作者**: AI Assistant  
**聯絡方式**: 透過 TRAE AI 系統