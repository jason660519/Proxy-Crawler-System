# ç¬¬ä¸€éšæ®µå¾…æ¸¬äº‹é …

**æ–‡æª”ç”Ÿæˆæ™‚é–“**: 2025-01-07  
**æ¸¬è©¦ç¯„åœ**: ä»£ç†æŠ“å–ã€ETL æµç¨‹ã€ç³»çµ±æ•´åˆ  
**é ä¼°æ¸¬è©¦æ™‚é–“**: 3-4 å°æ™‚  
**æ¸¬è©¦ç’°å¢ƒ**: Docker å®¹å™¨åŒ–ç’°å¢ƒ

---

## ğŸ¯ æ¸¬è©¦ç›®æ¨™

### ä¸»è¦ç›®æ¨™

1. **é©—è­‰ä»£ç†æŠ“å–åŠŸèƒ½**: ç¢ºèªç³»çµ±èƒ½æˆåŠŸå¾å¤šå€‹ä¾†æºç²å–ä»£ç†
2. **æª¢æŸ¥æ–‡ä»¶ç”Ÿæˆ**: é©—è­‰ ETL æµç¨‹èƒ½æ­£ç¢ºç”Ÿæˆå„ç¨®æ ¼å¼çš„è¼¸å‡ºæ–‡ä»¶
3. **éµå®ˆ ETL è¦ç¯„**: ç¢ºä¿æ•¸æ“šè™•ç†æµç¨‹ç¬¦åˆè¨­è¨ˆè¦ç¯„
4. **ç³»çµ±æ•´åˆæ¸¬è©¦**: é©—è­‰å„æ¨¡çµ„é–“å”åŒå·¥ä½œæ­£å¸¸

### æˆåŠŸæ¨™æº–

- ä»£ç†æŠ“å–æˆåŠŸç‡ â‰¥ 70%
- æ–‡ä»¶ç”Ÿæˆå®Œæ•´æ€§ 100%
- ETL æµç¨‹å„éšæ®µæ­£å¸¸åŸ·è¡Œ
- ç³»çµ±ç©©å®šé‹è¡Œ â‰¥ 30 åˆ†é˜

---

## ğŸ“‹ æ¸¬è©¦é …ç›®æ¸…å–®

### éšæ®µ 1: åŸºç¤åŠŸèƒ½æ¸¬è©¦ (30 åˆ†é˜)

#### 1.1 ç³»çµ±å•Ÿå‹•æ¸¬è©¦

- [ ] **Docker æœå‹™å•Ÿå‹•**

  ```bash
  docker-compose up -d
  ```

  - æª¢æŸ¥æ‰€æœ‰æœå‹™æ˜¯å¦æ­£å¸¸å•Ÿå‹•
  - é©—è­‰æœå‹™å¥åº·ç‹€æ…‹

- [ ] **æœå‹™å¥åº·æª¢æŸ¥**

  ```bash
  curl http://localhost:8000/health
  curl http://localhost:8001/health
  ```

  - ä¸»æœå‹™ (port 8000) å¥åº·æª¢æŸ¥
  - HTML to Markdown æœå‹™ (port 8001) å¥åº·æª¢æŸ¥

- [ ] **è³‡æ–™åº«é€£æ¥æ¸¬è©¦**
  ```bash
  docker-compose exec postgres_db pg_isready -U proxyadmin
  ```
  - PostgreSQL è³‡æ–™åº«é€£æ¥ç‹€æ…‹
  - Redis å¿«å–æœå‹™ç‹€æ…‹

#### 1.2 é…ç½®é©—è­‰æ¸¬è©¦

- [ ] **é…ç½®åŠ è¼‰æ¸¬è©¦**

  ```python
  python -c "
  from src.proxy_manager.config import get_config
  config = get_config()
  print('é…ç½®åŠ è¼‰æˆåŠŸ:', config)
  "
  ```

  - é©—è­‰é…ç½®æ¨¡çµ„æ­£å¸¸åŠ è¼‰
  - æª¢æŸ¥é…ç½®åƒæ•¸å®Œæ•´æ€§

- [ ] **ç’°å¢ƒè®Šæ•¸æª¢æŸ¥**
  ```python
  python -c "
  import os
  print('DB_USER:', os.getenv('DB_USER'))
  print('DB_PASSWORD:', os.getenv('DB_PASSWORD'))
  print('DB_NAME:', os.getenv('DB_NAME'))
  "
  ```
  - æª¢æŸ¥å¿…éœ€ç’°å¢ƒè®Šæ•¸
  - é©—è­‰è³‡æ–™åº«é€£æ¥åƒæ•¸

### éšæ®µ 2: ä»£ç†æŠ“å–æ¸¬è©¦ (45 åˆ†é˜)

#### 2.1 å–®ä¸€ä¾†æºæ¸¬è©¦

- [ ] **SSL Proxies æŠ“å–æ¸¬è©¦**

  ```python
  python -c "
  import asyncio
  from src.proxy_manager.fetchers import SSLProxiesFetcher

  async def test_ssl_proxies():
      fetcher = SSLProxiesFetcher()
      proxies = await fetcher.fetch_proxies(limit=10)
      print(f'SSL Proxies æŠ“å–æˆåŠŸ: {len(proxies)} å€‹ä»£ç†')
      for proxy in proxies[:3]:
          print(f'  - {proxy.host}:{proxy.port} ({proxy.protocol})')

  asyncio.run(test_ssl_proxies())
  "
  ```

  - æ¸¬è©¦ SSL Proxies ä¾†æºæŠ“å–
  - é©—è­‰ä»£ç†æ•¸æ“šæ ¼å¼æ­£ç¢ºæ€§

- [ ] **Free Proxy List æŠ“å–æ¸¬è©¦**

  ```python
  python -c "
  import asyncio
  from src.proxy_manager.fetchers import FreeProxyListFetcher

  async def test_free_proxy_list():
      fetcher = FreeProxyListFetcher()
      proxies = await fetcher.fetch_proxies(limit=10)
      print(f'Free Proxy List æŠ“å–æˆåŠŸ: {len(proxies)} å€‹ä»£ç†')
      for proxy in proxies[:3]:
          print(f'  - {proxy.host}:{proxy.port} ({proxy.protocol})')

  asyncio.run(test_free_proxy_list())
  "
  ```

  - æ¸¬è©¦ Free Proxy List ä¾†æºæŠ“å–
  - é©—è­‰ä»£ç†æ•¸æ“šå®Œæ•´æ€§

- [ ] **Geonode æŠ“å–æ¸¬è©¦**

  ```python
  python -c "
  import asyncio
  from src.proxy_manager.fetchers import GeonodeFetcher

  async def test_geonode():
      fetcher = GeonodeFetcher()
      proxies = await fetcher.fetch_proxies(limit=10)
      print(f'Geonode æŠ“å–æˆåŠŸ: {len(proxies)} å€‹ä»£ç†')
      for proxy in proxies[:3]:
          print(f'  - {proxy.host}:{proxy.port} ({proxy.protocol})')

  asyncio.run(test_geonode())
  "
  ```

  - æ¸¬è©¦ Geonode ä¾†æºæŠ“å–
  - é©—è­‰ä»£ç†æ•¸æ“šå“è³ª

#### 2.2 å¤šä¾†æºæ•´åˆæ¸¬è©¦

- [ ] **ä»£ç†ç®¡ç†å™¨æ•´åˆæ¸¬è©¦**

  ```python
  python -c "
  import asyncio
  from src.proxy_manager.manager import ProxyManager

  async def test_all_sources():
      manager = ProxyManager()
      await manager.start()

      # æ¸¬è©¦åŸºæœ¬æŠ“å–
      proxies = await manager.fetch_proxies()
      print(f'ç¸½å…±æŠ“å–: {len(proxies)} å€‹ä»£ç†')

      # æŒ‰ä¾†æºçµ±è¨ˆ
      sources = {}
      for proxy in proxies:
          source = getattr(proxy, 'source', 'unknown')
          sources[source] = sources.get(source, 0) + 1

      print('æŒ‰ä¾†æºçµ±è¨ˆ:')
      for source, count in sources.items():
          print(f'  {source}: {count} å€‹')

      await manager.stop()

  asyncio.run(test_all_sources())
  "
  ```

  - æ¸¬è©¦æ‰€æœ‰ä¾†æºæ•´åˆæŠ“å–
  - é©—è­‰ä»£ç†æ•¸æ“šçµ±è¨ˆ

#### 2.3 é«˜ç´šç²å–å™¨æ¸¬è©¦

- [ ] **GitHub ä»£ç†å°ˆæ¡ˆæ¸¬è©¦**

  ```python
  python -c "
  import asyncio
  from src.proxy_manager.advanced_fetchers import AdvancedProxyFetcherManager

  async def test_github_fetchers():
      config = {
          'github_token': None,  # å¦‚æœæœ‰ API é‡‘é‘°
      }

      manager = AdvancedProxyFetcherManager(config)
      github_proxies = await manager.fetch_github_proxies()
      print(f'GitHub ä»£ç†: {len(github_proxies)} å€‹')

  asyncio.run(test_github_fetchers())
  "
  ```

  - æ¸¬è©¦ GitHub ä»£ç†å°ˆæ¡ˆæŠ“å–
  - é©—è­‰é«˜ç´šç²å–å™¨åŠŸèƒ½

- [ ] **ProxyScrape API æ¸¬è©¦**

  ```python
  python -c "
  import asyncio
  from src.proxy_manager.advanced_fetchers import AdvancedProxyFetcherManager

  async def test_proxyscrape():
      config = {
          'proxyscrape_api_key': None,  # å¦‚æœæœ‰ API é‡‘é‘°
      }

      manager = AdvancedProxyFetcherManager(config)
      proxyscrape_proxies = await manager.fetch_proxyscrape_proxies()
      print(f'ProxyScrape ä»£ç†: {len(proxyscrape_proxies)} å€‹')

  asyncio.run(test_proxyscrape())
  "
  ```

  - æ¸¬è©¦ ProxyScrape API æŠ“å–
  - é©—è­‰ API æ•´åˆåŠŸèƒ½

### éšæ®µ 3: ETL æµç¨‹æ¸¬è©¦ (60 åˆ†é˜)

#### 3.1 æ•¸æ“šæå–æ¸¬è©¦

- [ ] **ETL æ•¸æ“šæå–æ¸¬è©¦**

  ```python
  python -c "
  import asyncio
  from src.etl.proxy_etl_pipeline import ProxyETLPipeline, ETLConfig

  async def test_etl_extract():
      config = ETLConfig()
      pipeline = ProxyETLPipeline(config)

      # æ¸¬è©¦æå–éšæ®µ
      result = await pipeline.extract_proxies()
      print(f'ETL æå–å®Œæˆ: {result.total_records} å€‹è¨˜éŒ„')
      print(f'æˆåŠŸ: {result.successful_records}, å¤±æ•—: {result.failed_records}')
      print(f'æˆåŠŸç‡: {result.success_rate:.2%}')

  asyncio.run(test_etl_extract())
  "
  ```

  - æ¸¬è©¦ ETL æ•¸æ“šæå–éšæ®µ
  - é©—è­‰æå–æˆåŠŸç‡

#### 3.2 æ•¸æ“šè½‰æ›æ¸¬è©¦

- [ ] **ETL æ•¸æ“šè½‰æ›æ¸¬è©¦**

  ```python
  python -c "
  import asyncio
  from src.etl.proxy_etl_pipeline import ProxyETLPipeline, ETLConfig

  async def test_etl_transform():
      config = ETLConfig()
      pipeline = ProxyETLPipeline(config)

      # å…ˆæå–æ•¸æ“š
      extract_result = await pipeline.extract_proxies()

      # æ¸¬è©¦è½‰æ›éšæ®µ
      transform_result = await pipeline.transform_proxies(extract_result.data)
      print(f'ETL è½‰æ›å®Œæˆ: {transform_result.total_records} å€‹è¨˜éŒ„')
      print(f'æˆåŠŸ: {transform_result.successful_records}, å¤±æ•—: {transform_result.failed_records}')
      print(f'æˆåŠŸç‡: {transform_result.success_rate:.2%}')

  asyncio.run(test_etl_transform())
  "
  ```

  - æ¸¬è©¦ ETL æ•¸æ“šè½‰æ›éšæ®µ
  - é©—è­‰è½‰æ›æˆåŠŸç‡

#### 3.3 æ•¸æ“šé©—è­‰æ¸¬è©¦

- [ ] **ETL æ•¸æ“šé©—è­‰æ¸¬è©¦**

  ```python
  python -c "
  import asyncio
  from src.etl.proxy_etl_pipeline import ProxyETLPipeline, ETLConfig

  async def test_etl_validate():
      config = ETLConfig()
      pipeline = ProxyETLPipeline(config)

      # å…ˆæå–å’Œè½‰æ›æ•¸æ“š
      extract_result = await pipeline.extract_proxies()
      transform_result = await pipeline.transform_proxies(extract_result.data)

      # æ¸¬è©¦é©—è­‰éšæ®µ
      validate_result = await pipeline.validate_proxies(transform_result.data)
      print(f'ETL é©—è­‰å®Œæˆ: {validate_result.total_records} å€‹è¨˜éŒ„')
      print(f'æˆåŠŸ: {validate_result.successful_records}, å¤±æ•—: {validate_result.failed_records}')
      print(f'æˆåŠŸç‡: {validate_result.success_rate:.2%}')

  asyncio.run(test_etl_validate())
  "
  ```

  - æ¸¬è©¦ ETL æ•¸æ“šé©—è­‰éšæ®µ
  - é©—è­‰ä»£ç†é€£é€šæ€§

#### 3.4 æ•¸æ“šåŠ è¼‰æ¸¬è©¦

- [ ] **ETL å®Œæ•´æµç¨‹æ¸¬è©¦**

  ```python
  python -c "
  import asyncio
  from src.etl.proxy_etl_pipeline import ProxyETLPipeline, ETLConfig

  async def test_etl_full():
      config = ETLConfig()
      pipeline = ProxyETLPipeline(config)

      # åŸ·è¡Œå®Œæ•´ ETL æµç¨‹
      result = await pipeline.run_full_etl()
      print(f'ETL å®Œæ•´æµç¨‹å®Œæˆ: {result.total_records} å€‹è¨˜éŒ„')
      print(f'æˆåŠŸ: {result.successful_records}, å¤±æ•—: {result.failed_records}')
      print(f'æˆåŠŸç‡: {result.success_rate:.2%}')

  asyncio.run(test_etl_full())
  "
  ```

  - æ¸¬è©¦ ETL å®Œæ•´æµç¨‹
  - é©—è­‰æ•¸æ“šåŠ è¼‰åˆ°è³‡æ–™åº«

### éšæ®µ 4: æ–‡ä»¶ç”Ÿæˆé©—è­‰ (30 åˆ†é˜)

#### 4.1 è¼¸å‡ºæ–‡ä»¶æª¢æŸ¥

- [ ] **æª¢æŸ¥ ETL è¼¸å‡ºç›®éŒ„**

  ```bash
  ls -la data/raw/
  ls -la data/processed/
  ls -la data/validated/
  ls -la data/reports/
  ```

  - æª¢æŸ¥å„éšæ®µè¼¸å‡ºç›®éŒ„
  - é©—è­‰æ–‡ä»¶å­˜åœ¨æ€§

- [ ] **æª¢æŸ¥æ–‡ä»¶å…§å®¹**

  ```bash
  echo "=== Raw æ•¸æ“š ==="
  head -20 data/raw/proxies_raw_*.json

  echo "=== Processed æ•¸æ“š ==="
  head -20 data/processed/proxies_processed_*.json

  echo "=== Validated æ•¸æ“š ==="
  head -20 data/validated/proxies_validated_*.json

  echo "=== å ±å‘Šæ–‡ä»¶ ==="
  head -20 data/reports/proxy_etl_report_*.md
  ```

  - æª¢æŸ¥å„éšæ®µæ–‡ä»¶å…§å®¹
  - é©—è­‰æ•¸æ“šæ ¼å¼æ­£ç¢ºæ€§

#### 4.2 æ–‡ä»¶æ ¼å¼é©—è­‰

- [ ] **JSON æ–‡ä»¶æ ¼å¼é©—è­‰**

  ```python
  python -c "
  import json
  from pathlib import Path

  def validate_json_files():
      data_dir = Path('data')

      # æª¢æŸ¥ raw æ–‡ä»¶
      raw_files = list(data_dir.glob('raw/*.json'))
      print(f'Raw JSON æ–‡ä»¶: {len(raw_files)} å€‹')
      for file in raw_files:
          try:
              with open(file, 'r', encoding='utf-8') as f:
                  data = json.load(f)
              print(f'  âœ… {file.name}: {len(data.get(\"proxies\", []))} å€‹ä»£ç†')
          except Exception as e:
              print(f'  âŒ {file.name}: æ ¼å¼éŒ¯èª¤ - {e}')

      # æª¢æŸ¥ processed æ–‡ä»¶
      processed_files = list(data_dir.glob('processed/*.json'))
      print(f'Processed JSON æ–‡ä»¶: {len(processed_files)} å€‹')
      for file in processed_files:
          try:
              with open(file, 'r', encoding='utf-8') as f:
                  data = json.load(f)
              print(f'  âœ… {file.name}: {len(data.get(\"proxies\", []))} å€‹ä»£ç†')
          except Exception as e:
              print(f'  âŒ {file.name}: æ ¼å¼éŒ¯èª¤ - {e}')

  validate_json_files()
  "
  ```

  - é©—è­‰ JSON æ–‡ä»¶æ ¼å¼æ­£ç¢ºæ€§
  - æª¢æŸ¥æ•¸æ“šçµæ§‹å®Œæ•´æ€§

- [ ] **Markdown å ±å‘Šé©—è­‰**

  ```python
  python -c "
  from pathlib import Path

  def validate_markdown_reports():
      data_dir = Path('data')
      report_files = list(data_dir.glob('reports/*.md'))

      print(f'Markdown å ±å‘Šæ–‡ä»¶: {len(report_files)} å€‹')
      for file in report_files:
          try:
              with open(file, 'r', encoding='utf-8') as f:
                  content = f.read()

              # æª¢æŸ¥åŸºæœ¬çµæ§‹
              has_title = '# ' in content
              has_table = '|' in content
              has_stats = 'çµ±è¨ˆ' in content or 'statistics' in content.lower()

              print(f'  âœ… {file.name}: æ¨™é¡Œ={has_title}, è¡¨æ ¼={has_table}, çµ±è¨ˆ={has_stats}')
          except Exception as e:
              print(f'  âŒ {file.name}: è®€å–éŒ¯èª¤ - {e}')

  validate_markdown_reports()
  "
  ```

  - é©—è­‰ Markdown å ±å‘Šæ ¼å¼
  - æª¢æŸ¥å ±å‘Šå…§å®¹å®Œæ•´æ€§

### éšæ®µ 5: ç³»çµ±æ•´åˆæ¸¬è©¦ (45 åˆ†é˜)

#### 5.1 API ç«¯é»æ¸¬è©¦

- [ ] **ç³»çµ±ç‹€æ…‹ API æ¸¬è©¦**

  ```bash
  echo "=== ç³»çµ±ç‹€æ…‹ ==="
  curl -s http://localhost:8000/ | jq .

  echo "=== å¥åº·æª¢æŸ¥ ==="
  curl -s http://localhost:8000/health | jq .

  echo "=== è©³ç´°ç‹€æ…‹ ==="
  curl -s http://localhost:8000/status | jq .
  ```

  - æ¸¬è©¦ç³»çµ±åŸºæœ¬ç‹€æ…‹ API
  - é©—è­‰æœå‹™å¯ç”¨æ€§

- [ ] **ä»£ç†ç®¡ç† API æ¸¬è©¦**

  ```bash
  echo "=== ä»£ç†çµ±è¨ˆ ==="
  curl -s http://localhost:8000/api/stats | jq .

  echo "=== ä»£ç†åˆ—è¡¨ ==="
  curl -s "http://localhost:8000/api/proxies?limit=5" | jq .

  echo "=== ä»£ç†æ± ç‹€æ…‹ ==="
  curl -s http://localhost:8000/api/pools | jq .
  ```

  - æ¸¬è©¦ä»£ç†ç®¡ç†ç›¸é—œ API
  - é©—è­‰æ•¸æ“šè¿”å›æ­£ç¢ºæ€§

- [ ] **ETL æ•´åˆ API æ¸¬è©¦**

  ```bash
  echo "=== ETL ç‹€æ…‹ ==="
  curl -s http://localhost:8000/api/etl/status | jq .

  echo "=== ETL åŒæ­¥ ==="
  curl -s -X POST http://localhost:8000/api/etl/sync | jq .
  ```

  - æ¸¬è©¦ ETL æ•´åˆ API
  - é©—è­‰ ETL æµç¨‹è§¸ç™¼

#### 5.2 ä»£ç†æ± ç®¡ç†æ¸¬è©¦

- [ ] **ä»£ç†æ± çµ±è¨ˆæ¸¬è©¦**

  ```python
  python -c "
  import asyncio
  from src.proxy_manager.manager import ProxyManager

  async def test_pool_stats():
      manager = ProxyManager()
      await manager.start()

      # ç²å–ä»£ç†çµ±è¨ˆ
      stats = await manager.get_statistics()
      print('ä»£ç†æ± çµ±è¨ˆ:')
      print(f'  ç¸½ä»£ç†æ•¸: {stats.get(\"total_proxies\", 0)}')
      print(f'  ç†±æ± : {stats.get(\"hot_pool\", 0)}')
      print(f'  æº«æ± : {stats.get(\"warm_pool\", 0)}')
      print(f'  å†·æ± : {stats.get(\"cold_pool\", 0)}')
      print(f'  é»‘åå–®: {stats.get(\"blacklist\", 0)}')

      await manager.stop()

  asyncio.run(test_pool_stats())
  "
  ```

  - æ¸¬è©¦ä»£ç†æ± çµ±è¨ˆåŠŸèƒ½
  - é©—è­‰æ± åˆ†é¡æ­£ç¢ºæ€§

- [ ] **ä»£ç†ç²å–æ¸¬è©¦**

  ```python
  python -c "
  import asyncio
  from src.proxy_manager.manager import ProxyManager

  async def test_proxy_retrieval():
      manager = ProxyManager()
      await manager.start()

      # æ¸¬è©¦ä»£ç†ç²å–
      proxies = await manager.get_proxies(limit=10)
      print(f'ç²å–ä»£ç†: {len(proxies)} å€‹')

      # æª¢æŸ¥ä»£ç†å“è³ª
      for proxy in proxies[:3]:
          print(f'  - {proxy.host}:{proxy.port} (è©•åˆ†: {getattr(proxy, \"score\", \"N/A\")})')

      await manager.stop()

  asyncio.run(test_proxy_retrieval())
  "
  ```

  - æ¸¬è©¦ä»£ç†ç²å–åŠŸèƒ½
  - é©—è­‰ä»£ç†å“è³ªè©•åˆ†

#### 5.3 è³‡æ–™åº«é€£æ¥æ¸¬è©¦

- [ ] **PostgreSQL é€£æ¥æ¸¬è©¦**

  ```python
  python -c "
  import asyncio
  import asyncpg

  async def test_postgres_connection():
      try:
          conn = await asyncpg.connect(
              host='localhost',
              port=5432,
              user='proxyadmin',
              password='proxyadmin123',
              database='proxypool'
          )

          result = await conn.fetchval('SELECT version()')
          print(f'âœ… PostgreSQL é€£æ¥æˆåŠŸ: {result}')

          await conn.close()
      except Exception as e:
          print(f'âŒ PostgreSQL é€£æ¥å¤±æ•—: {e}')

  asyncio.run(test_postgres_connection())
  "
  ```

  - æ¸¬è©¦ PostgreSQL è³‡æ–™åº«é€£æ¥
  - é©—è­‰è³‡æ–™åº«å¯ç”¨æ€§

- [ ] **Redis é€£æ¥æ¸¬è©¦**

  ```python
  python -c "
  import asyncio
  import redis.asyncio as redis

  async def test_redis_connection():
      try:
          r = redis.Redis(host='localhost', port=6379, db=0)
          await r.ping()
          print('âœ… Redis é€£æ¥æˆåŠŸ')

          # æ¸¬è©¦åŸºæœ¬æ“ä½œ
          await r.set('test_key', 'test_value')
          value = await r.get('test_key')
          print(f'âœ… Redis æ“ä½œæ¸¬è©¦: {value.decode()}')

          await r.close()
      except Exception as e:
          print(f'âŒ Redis é€£æ¥å¤±æ•—: {e}')

  asyncio.run(test_redis_connection())
  "
  ```

  - æ¸¬è©¦ Redis å¿«å–é€£æ¥
  - é©—è­‰å¿«å–æ“ä½œåŠŸèƒ½

### éšæ®µ 6: æ€§èƒ½å£“åŠ›æ¸¬è©¦ (30 åˆ†é˜)

#### 6.1 ä¸¦ç™¼è™•ç†æ¸¬è©¦

- [ ] **ä¸¦ç™¼ä»£ç†ç²å–æ¸¬è©¦**

  ```python
  python -c "
  import asyncio
  import time
  from src.proxy_manager.manager import ProxyManager

  async def test_concurrent_fetch():
      manager = ProxyManager()
      await manager.start()

      # æ¸¬è©¦ä¸¦ç™¼ä»£ç†ç²å–
      start_time = time.time()

      tasks = []
      for i in range(5):  # 5 å€‹ä¸¦ç™¼ä»»å‹™
          task = manager.fetch_proxies()
          tasks.append(task)

      results = await asyncio.gather(*tasks)
      end_time = time.time()

      total_proxies = sum(len(result) for result in results)
      print(f'ä¸¦ç™¼æ¸¬è©¦å®Œæˆ: {total_proxies} å€‹ä»£ç†')
      print(f'è™•ç†æ™‚é–“: {end_time - start_time:.2f} ç§’')
      print(f'å¹³å‡é€Ÿåº¦: {total_proxies / (end_time - start_time):.2f} ä»£ç†/ç§’')

      await manager.stop()

  asyncio.run(test_concurrent_fetch())
  "
  ```

  - æ¸¬è©¦ä¸¦ç™¼è™•ç†èƒ½åŠ›
  - é©—è­‰ç³»çµ±æ€§èƒ½æŒ‡æ¨™

#### 6.2 å…§å­˜ä½¿ç”¨æ¸¬è©¦

- [ ] **å…§å­˜ä½¿ç”¨ç›£æ§**

  ```python
  python -c "
  import psutil
  import os
  import time
  from src.proxy_manager.manager import ProxyManager

  async def test_memory_usage():
      process = psutil.Process(os.getpid())

      # è¨˜éŒ„åˆå§‹å…§å­˜
      initial_memory = process.memory_info().rss / 1024 / 1024  # MB
      print(f'åˆå§‹å…§å­˜ä½¿ç”¨: {initial_memory:.2f} MB')

      manager = ProxyManager()
      await manager.start()

      # è¨˜éŒ„å•Ÿå‹•å¾Œå…§å­˜
      startup_memory = process.memory_info().rss / 1024 / 1024  # MB
      print(f'å•Ÿå‹•å¾Œå…§å­˜ä½¿ç”¨: {startup_memory:.2f} MB')

      # åŸ·è¡Œä»£ç†ç²å–
      proxies = await manager.fetch_proxies()

      # è¨˜éŒ„ç²å–å¾Œå…§å­˜
      after_fetch_memory = process.memory_info().rss / 1024 / 1024  # MB
      print(f'ç²å–å¾Œå…§å­˜ä½¿ç”¨: {after_fetch_memory:.2f} MB')
      print(f'å…§å­˜å¢é•·: {after_fetch_memory - startup_memory:.2f} MB')

      await manager.stop()

  asyncio.run(test_memory_usage())
  "
  ```

  - ç›£æ§å…§å­˜ä½¿ç”¨æƒ…æ³
  - æª¢æŸ¥å…§å­˜æ´©æ¼å•é¡Œ

#### 6.3 ç³»çµ±ç©©å®šæ€§æ¸¬è©¦

- [ ] **é•·æ™‚é–“é‹è¡Œæ¸¬è©¦**

  ```python
  python -c "
  import asyncio
  import time
  from src.proxy_manager.manager import ProxyManager

  async def test_long_running():
      manager = ProxyManager()
      await manager.start()

      print('é–‹å§‹é•·æ™‚é–“é‹è¡Œæ¸¬è©¦ (5 åˆ†é˜)...')
      start_time = time.time()

      try:
          # æ¯ 30 ç§’åŸ·è¡Œä¸€æ¬¡ä»£ç†ç²å–
          for i in range(10):  # 10 æ¬¡å¾ªç’° = 5 åˆ†é˜
              proxies = await manager.fetch_proxies()
              print(f'ç¬¬ {i+1} æ¬¡ç²å–: {len(proxies)} å€‹ä»£ç†')
              await asyncio.sleep(30)  # ç­‰å¾… 30 ç§’

      except KeyboardInterrupt:
          print('æ¸¬è©¦è¢«ä¸­æ–·')
      finally:
          end_time = time.time()
          print(f'æ¸¬è©¦å®Œæˆï¼Œç¸½é‹è¡Œæ™‚é–“: {end_time - start_time:.2f} ç§’')
          await manager.stop()

  asyncio.run(test_long_running())
  "
  ```

  - æ¸¬è©¦ç³»çµ±é•·æ™‚é–“é‹è¡Œç©©å®šæ€§
  - é©—è­‰ç„¡å…§å­˜æ´©æ¼

---

## ğŸ“Š æ¸¬è©¦çµæœè©•ä¼°

### è©•ä¼°æ¨™æº–

#### åŠŸèƒ½å®Œæ•´æ€§ (40%)

- [ ] ä»£ç†æŠ“å–æˆåŠŸç‡ â‰¥ 70%
- [ ] æ–‡ä»¶ç”Ÿæˆå®Œæ•´æ€§ 100%
- [ ] ETL æµç¨‹å„éšæ®µæ­£å¸¸åŸ·è¡Œ
- [ ] API ç«¯é»å¯ç”¨æ€§ 100%

#### æ•¸æ“šå“è³ª (30%)

- [ ] ä»£ç†é©—è­‰æº–ç¢ºæ€§ â‰¥ 80%
- [ ] æ•¸æ“šæ ¼å¼æ­£ç¢ºæ€§ 100%
- [ ] é‡è¤‡æ•¸æ“šç‡ â‰¤ 5%
- [ ] åœ°ç†ä½ç½®ä¿¡æ¯å®Œæ•´æ€§ â‰¥ 60%

#### ç³»çµ±æ€§èƒ½ (20%)

- [ ] éŸ¿æ‡‰æ™‚é–“ â‰¤ 2 ç§’
- [ ] å…§å­˜ä½¿ç”¨ â‰¤ 1GB
- [ ] ä¸¦ç™¼è™•ç†èƒ½åŠ› â‰¥ 50 å€‹è«‹æ±‚/ç§’
- [ ] ç³»çµ±ç©©å®šæ€§ â‰¥ 30 åˆ†é˜

#### éŒ¯èª¤è™•ç† (10%)

- [ ] ç•°å¸¸æ•ç²ç‡ 100%
- [ ] éŒ¯èª¤æ¢å¾©èƒ½åŠ› â‰¥ 90%
- [ ] æ—¥èªŒè¨˜éŒ„å®Œæ•´æ€§ 100%
- [ ] ç›£æ§å‘Šè­¦åŠæ™‚æ€§ 100%

### æ¸¬è©¦çµæœè¨˜éŒ„

#### åŠŸèƒ½æ¸¬è©¦çµæœ

- [ ] ä»£ç†æŠ“å–: â–¡ æˆåŠŸ â–¡ å¤±æ•— (æˆåŠŸç‡: \_\_\_%)
- [ ] æ–‡ä»¶ç”Ÿæˆ: â–¡ æˆåŠŸ â–¡ å¤±æ•— (å®Œæ•´æ€§: \_\_\_%)
- [ ] ETL æµç¨‹: â–¡ æˆåŠŸ â–¡ å¤±æ•— (æˆåŠŸç‡: \_\_\_%)
- [ ] API æœå‹™: â–¡ æˆåŠŸ â–¡ å¤±æ•— (å¯ç”¨æ€§: \_\_\_%)

#### æ€§èƒ½æ¸¬è©¦çµæœ

- [ ] éŸ¿æ‡‰æ™‚é–“: \_\_\_ ç§’ (ç›®æ¨™ â‰¤ 2 ç§’)
- [ ] å…§å­˜ä½¿ç”¨: \_\_\_ MB (ç›®æ¨™ â‰¤ 1GB)
- [ ] ä¸¦ç™¼è™•ç†: \_\_\_ è«‹æ±‚/ç§’ (ç›®æ¨™ â‰¥ 50)
- [ ] ç³»çµ±ç©©å®šæ€§: \_\_\_ åˆ†é˜ (ç›®æ¨™ â‰¥ 30 åˆ†é˜)

#### æ•¸æ“šå“è³ªçµæœ

- [ ] ä»£ç†é©—è­‰: \_\_\_% æº–ç¢ºæ€§ (ç›®æ¨™ â‰¥ 80%)
- [ ] æ•¸æ“šæ ¼å¼: \_\_\_% æ­£ç¢ºæ€§ (ç›®æ¨™ 100%)
- [ ] é‡è¤‡æ•¸æ“š: \_\_\_% (ç›®æ¨™ â‰¤ 5%)
- [ ] åœ°ç†ä½ç½®: \_\_\_% å®Œæ•´æ€§ (ç›®æ¨™ â‰¥ 60%)

---

## ğŸš¨ å•é¡Œè¨˜éŒ„

### ç™¼ç¾çš„å•é¡Œ

1. **é…ç½®å•é¡Œ**

   - [ ] å•é¡Œæè¿°: ****\_\_\_****
   - [ ] å½±éŸ¿ç¯„åœ: ****\_\_\_****
   - [ ] è§£æ±ºæ–¹æ¡ˆ: ****\_\_\_****

2. **åŠŸèƒ½å•é¡Œ**

   - [ ] å•é¡Œæè¿°: ****\_\_\_****
   - [ ] å½±éŸ¿ç¯„åœ: ****\_\_\_****
   - [ ] è§£æ±ºæ–¹æ¡ˆ: ****\_\_\_****

3. **æ€§èƒ½å•é¡Œ**

   - [ ] å•é¡Œæè¿°: ****\_\_\_****
   - [ ] å½±éŸ¿ç¯„åœ: ****\_\_\_****
   - [ ] è§£æ±ºæ–¹æ¡ˆ: ****\_\_\_****

4. **æ•¸æ“šå“è³ªå•é¡Œ**
   - [ ] å•é¡Œæè¿°: ****\_\_\_****
   - [ ] å½±éŸ¿ç¯„åœ: ****\_\_\_****
   - [ ] è§£æ±ºæ–¹æ¡ˆ: ****\_\_\_****

### æ”¹é€²å»ºè­°

1. **çŸ­æœŸæ”¹é€²** (1-2 é€±)

   - [ ] ***
   - [ ] ***
   - [ ] ***

2. **ä¸­æœŸæ”¹é€²** (1-2 å€‹æœˆ)

   - [ ] ***
   - [ ] ***
   - [ ] ***

3. **é•·æœŸæ”¹é€²** (3-6 å€‹æœˆ)
   - [ ] ***
   - [ ] ***
   - [ ] ***

---

## ğŸ“ æ¸¬è©¦ç¸½çµ

### ç¸½é«”è©•ä¼°

- [ ] å„ªç§€ (90-100%)
- [ ] è‰¯å¥½ (80-89%)
- [ ] åˆæ ¼ (70-79%)
- [ ] ä¸åˆæ ¼ (< 70%)

### ä¸»è¦æˆå°±

1. ***
2. ***
3. ***

### ä¸»è¦å•é¡Œ

1. ***
2. ***
3. ***

### ä¸‹ä¸€æ­¥è¡Œå‹•

1. **ç«‹å³åŸ·è¡Œ**

   - [ ] ***
   - [ ] ***

2. **çŸ­æœŸè¦åŠƒ**

   - [ ] ***
   - [ ] ***

3. **é•·æœŸè¦åŠƒ**
   - [ ] ***
   - [ ] ***

---

**æ¸¬è©¦è² è²¬äºº**: ****\_\_\_****
**æ¸¬è©¦å®Œæˆæ™‚é–“**: ****\_\_\_****
**æ¸¬è©¦ç’°å¢ƒ**: Docker å®¹å™¨åŒ–ç’°å¢ƒ
**æ¸¬è©¦å·¥å…·**: Python è…³æœ¬ã€curlã€jq

---

## ğŸ“‹ é™„éŒ„

### æ¸¬è©¦ç’°å¢ƒæº–å‚™

```bash
# 1. å•Ÿå‹• Docker æœå‹™
docker-compose up -d

# 2. æª¢æŸ¥æœå‹™ç‹€æ…‹
docker-compose ps

# 3. æŸ¥çœ‹æœå‹™æ—¥èªŒ
docker-compose logs -f proxy_crawler

# 4. é€²å…¥å®¹å™¨é€²è¡Œæ¸¬è©¦
docker-compose exec proxy_crawler bash
```

### å¸¸ç”¨æ¸¬è©¦å‘½ä»¤

```bash
# æª¢æŸ¥æœå‹™å¥åº·ç‹€æ…‹
curl -s http://localhost:8000/health | jq .

# æŸ¥çœ‹ä»£ç†çµ±è¨ˆ
curl -s http://localhost:8000/api/stats | jq .

# æª¢æŸ¥ ETL ç‹€æ…‹
curl -s http://localhost:8000/api/etl/status | jq .

# æŸ¥çœ‹è³‡æ–™åº«é€£æ¥
docker-compose exec postgres_db psql -U proxyadmin -d proxypool -c "SELECT version();"
```

### æ•…éšœæ’é™¤

1. **æœå‹™ç„¡æ³•å•Ÿå‹•**: æª¢æŸ¥ Docker å’Œç’°å¢ƒè®Šæ•¸é…ç½®
2. **è³‡æ–™åº«é€£æ¥å¤±æ•—**: æª¢æŸ¥ PostgreSQL æœå‹™å’Œé€£æ¥åƒæ•¸
3. **ä»£ç†æŠ“å–å¤±æ•—**: æª¢æŸ¥ç¶²è·¯é€£æ¥å’Œç›®æ¨™ç¶²ç«™å¯ç”¨æ€§
4. **ETL æµç¨‹éŒ¯èª¤**: æª¢æŸ¥æ•¸æ“šæ ¼å¼å’Œè™•ç†é‚è¼¯
5. **API éŸ¿æ‡‰éŒ¯èª¤**: æª¢æŸ¥æœå‹™ç‹€æ…‹å’Œæ—¥èªŒæ–‡ä»¶
